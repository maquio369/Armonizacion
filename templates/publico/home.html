{% extends 'base.html' %}

{% block title %}Armonización Contable - Gobierno de Chiapas{% endblock %}

{% block sidebar %}
<!-- Navegación de Leyes -->
{% for ley in leyes %}
<div class="ley-item">
    <button class="ley-link load-ley" type="button" 
            data-bs-toggle="collapse" data-bs-target="#ley{{ ley.id }}" 
            aria-expanded="false" data-ley-id="{{ ley.id }}">
        <div class="ley-icon">
            <i class="{% if ley.orden == 1 %}fas fa-balance-scale{% else %}fas fa-chart-line{% endif %}"></i>
        </div>
        <div class="ley-text">{{ ley.nombre }}</div>
        <div class="ley-arrow">
            <i class="fas fa-chevron-right"></i>
        </div>
    </button>
    
    <div class="collapse subnav" id="ley{{ ley.id }}">
        {% for subarticulo in ley.subarticulos.all %}
            {% if subarticulo.activo %}
            <a href="{% url 'publico:subarticulo_detail' subarticulo.id %}" class="subnav-item">
                {% if 'Presupuesto' in subarticulo.nombre %}
                    <i class="fas fa-file-invoice-dollar me-2"></i>
                {% elif 'Contable' in subarticulo.nombre %}
                    <i class="fas fa-calculator me-2"></i>
                {% elif 'Presupuestaria' in subarticulo.nombre %}
                    <i class="fas fa-chart-bar me-2"></i>
                {% elif 'Programática' in subarticulo.nombre %}
                    <i class="fas fa-project-diagram me-2"></i>
                {% elif 'Ayudas' in subarticulo.nombre or 'Subsidios' in subarticulo.nombre %}
                    <i class="fas fa-hand-holding-usd me-2"></i>
                {% elif 'Cuenta Pública' in subarticulo.nombre %}
                    <i class="fas fa-file-contract me-2"></i>
                {% elif 'Cualitativa' in subarticulo.nombre %}
                    <i class="fas fa-clipboard-check me-2"></i>
                {% elif 'Inventario' in subarticulo.nombre or 'Bienes' in subarticulo.nombre %}
                    <i class="fas fa-boxes me-2"></i>
                {% elif 'Disciplina' in subarticulo.nombre %}
                    <i class="fas fa-gavel me-2"></i>
                {% elif 'Anexos' in subarticulo.nombre %}
                    <i class="fas fa-paperclip me-2"></i>
                {% else %}
                    <i class="fas fa-file-alt me-2"></i>
                {% endif %}
                {{ subarticulo.nombre }}
            </a>
            {% endif %}
        {% empty %}
        <div class="subnav-item text-muted">
            <i class="fas fa-info-circle me-2"></i>
            No hay artículos disponibles
        </div>
        {% endfor %}
    </div>
</div>
{% endfor %}
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="hero-content">
        <div class="hero-icon">
            <i class="fas fa-balance-scale"></i>
        </div>
        <h1 class="hero-title">ARMONIZACIÓN CONTABLE</h1>
        <p class="hero-subtitle">Oficina del Gobernador</p>
        <p class="hero-description">
            Accede a los documentos oficiales de armonización contable de la Oficina del Gobernador del estado de Chiapas.
            
    </div>
</div>

<div class="content-body">
</div>


            
<script>
function expandLaw(leyId) {
    // Expandir sidebar si está colapsado
    const sidebar = document.getElementById('sidebarContainer');
    if (sidebar.classList.contains('collapsed')) {
        sidebar.classList.remove('collapsed');
        updateToggleIcon();
    }
    
    // Expandir la ley correspondiente
    const collapseElement = document.getElementById(`ley${leyId}`);
    if (collapseElement && !collapseElement.classList.contains('show')) {
        const bootstrap = window.bootstrap || {};
        if (bootstrap.Collapse) {
            new bootstrap.Collapse(collapseElement, { show: true });
        } else {
            collapseElement.classList.add('show');
        }
    }
    
    // Scroll al sidebar
    setTimeout(() => {
        const leyButton = document.querySelector(`[data-ley-id="${leyId}"]`);
        if (leyButton) {
            leyButton.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }, 300);
}
</script>
{% endblock %}